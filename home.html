<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buku Pintar BUGAR</title>
    <style>
         /* New font imports from Google Fonts */
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Roboto+Condensed:wght@700&display=swap');
         /* Updated global typography */
    body {
        font-family: 'Poppins', sans-serif;
        color: #333;
    }

    h1, h2 {
        font-family: 'Roboto Condensed', sans-serif;
        color: #2c3e50;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    }
        /* Basic CSS Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            /* Original gradient: background: linear-gradient(to bottom, #f0f9f0, #ffffff); */
            background: linear-gradient(to bottom, #4CAF50, #6c5ce7); /* Green to purple gradient */
            line-height: 1.6;
            transition: background 0.3s ease, color 0.3s ease; /* Added transition for color too */
        }

        /* Header Styling */
        header {
            background-color: #f0f0f0;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: background-color 0.3s ease;
            flex-wrap: wrap; /* Allow wrapping */
        }

        .buttons {
            display: flex;
            flex-wrap: wrap; /* Allow buttons to wrap on smaller screens */
            gap: 10px;
            justify-content: center; /* Center buttons when wrapped */
            flex-grow: 1; /* Allow buttons to take space */
            min-width: 200px; /* Prevent excessive shrinking */
        }

        .button {
            font-family: 'Roboto Condensed', sans-serif;
            font-weight: 700;
            background: linear-gradient(135deg, #4CAF50 0%, #2ecc71 100%);
            color: white; /* Explicitly set text color */
            padding: 10px 20px; /* Adjusted padding */
            border-radius: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 1em; /* Adjusted font size */
            border: none; /* Ensure buttons don't have default borders */
            cursor: pointer; /* Indicate interactivity */
            text-decoration: none; /* Remove underline from links styled as buttons */
            display: inline-block; /* Proper alignment and padding */
            text-align: center; /* Center text within button */
            flex-shrink: 0; /* Prevent buttons from shrinking too much */
        }

        .button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 12px rgba(0,0,0,0.2);
            background: linear-gradient(135deg, #2ecc71 0%, #4CAF50 100%);
        }

        .logo {
            display: flex; /* Use flexbox for centering */
            justify-content: center; /* Center logo horizontally */
            align-items: center; /* Center logo vertically */
            margin-bottom: 10px; /* Add space below logo when wrapped */
            width: 100%; /* Take full width initially */
            max-width: 380px; /* Limit max width */
            margin-left: auto; /* Push logo left */
            margin-right: auto; /* Push logo right */
             flex-shrink: 0; /* Prevent logo from shrinking excessively */
        }


        .logo img {
            width: 100%; /* Make image responsive within its container */
            height: auto;
            cursor: pointer;
            transition: transform 0.3s;
            display: block; /* Prevents potential extra space below image */
        }

        .logo img:hover {
            transform: scale(1.05);
        }

        /* Main Content Styling */
        main {
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            background-color: white;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
            border-radius: 8px;
            opacity: 0;
            animation: fadeIn 1s forwards;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        @keyframes fadeIn { /* Changed from pulse to a simple fade-in */
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }


        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            color: #4CAF50; /* Green for headings */
            transition: color 0.3s ease;
             text-align: center; /* Center main title */
        }

        h2 { /* Added transition for H2 */
             transition: color 0.3s ease;
             margin-bottom: 15px; /* Space below h2 */
        }

        p {
            font-size: 1.1em;
            color: #555;
            margin-bottom: 20px;
            transition: color 0.3s ease;
        }

        /* PDF Container - Using a wrapper for aspect ratio */
        .fliphtml5-container-wrapper {
             position: relative;
             padding-top: max(60%, 324px); /* Adjust percentage as needed for aspect ratio */
             width: 100%;
             height: 0;
             margin-top: 20px;
             border: 1px solid #ddd; /* Optional border */
             border-radius: 5px; /* Optional rounded corners */
             overflow: hidden; /* Clip the iframe */
             background-color: #eee; /* Optional placeholder color */
        }

        .fliphtml5-container-wrapper iframe {
             position: absolute;
             top: 0;
             left: 0;
             width: 100%;
             height: 100%;
             border: none; /* Remove iframe border */
        }


        /* Crossword Styling */
        .crossword-section {
            margin-top: 40px;
            text-align: center; /* Center the crossword elements */
        }

        .crossword-section h2 {
            font-size: 2em;
            margin-bottom: 20px;
            color: #4CAF50;
        }

        .clues-container {
             display: flex;
             flex-wrap: wrap; /* Allow clues to wrap */
             justify-content: space-around; /* Space out clue sections */
             margin-bottom: 20px;
             text-align: left;
             gap: 20px; /* Add gap between clue sections */
        }

        .clues {
            /* Removed inline-block, handled by flex container now */
            max-width: 400px; /* Limit width of each clue section */
            width: 100%; /* Allow shrinking */
        }
        .clues h3 {
            margin-bottom: 10px;
            color: #2ecc71; /* Use accent green for clue titles */
        }
        .clues ul {
            list-style: none; /* Remove default bullets */
            padding-left: 0;
        }
         .clues li {
            margin-bottom: 8px; /* Slightly more space between clues */
            font-size: 0.95em; /* Slightly smaller font for clues */
            line-height: 1.4;
        }

        /* Style for the grid based on image.png */
        table#crossword {
            border-collapse: collapse;
            margin: 20px auto;
            border: 2px solid #555;
        }

        #crossword td {
            width: 35px; /* Adjust cell size as needed */
            height: 35px;/* Adjust cell size as needed */
            border: 1px solid #ccc;
            vertical-align: middle;
            position: relative;
             transition: background-color 0.3s ease, border-color 0.3s ease;
        }

        #crossword sup {
            position: absolute;
            top: 1px;
            left: 2px;
            font-size: 9px;
            line-height: 1;
            color: #555;
            pointer-events: none;
        }

        #crossword input[type="text"] {
            width: 100%;
            height: 100%;
            text-align: center;
            font-size: 16px;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            text-transform: uppercase;
            border: none;
            padding: 0;
            background-color: transparent;
            color: #333;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        #crossword input[type="text"]:focus {
            outline: 2px solid #4CAF50;
            outline-offset: -2px;
            background-color: rgba(76, 175, 80, 0.1);
        }


        #crossword .black {
            background-color: #333;
            border-color: #333;
        }

        /* General button styling */
        .crossword-section button {
            background-color: #4CAF50;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Roboto Condensed', sans-serif;
            font-size: 1.1em;
            transition: background-color 0.3s ease, transform 0.2s ease;
            margin-top: 10px;
        }

        .crossword-section button:hover {
            background-color: #45a049;
            transform: translateY(-2px);
        }

        .score {
            font-size: 18px;
            margin-top: 20px;
            font-weight: bold;
            color: #4CAF50;
        }

        /* Footer Styling */
        footer {
            background-color: #f0f0f0;
            text-align: center;
            padding: 15px;
            margin-top: 40px;
            bottom: 0;
            width: 100%;
            font-size: 0.9em;
            color: #777;
            border-top: 1px solid #ddd;
            transition: background-color 0.3s ease, color 0.3s ease, border-top-color 0.3s ease;
        }

        /* Dark Mode Styling */
        body.dark-mode {
            background: linear-gradient(to bottom, #2c3e50, #1a1a2e);
            color: #ecf0f1;
        }
        body.dark-mode header { background-color: #1f2023; box-shadow: 0 2px 5px rgba(255,255,255,0.05); }
        body.dark-mode main { background-color: #2a2c30; color: #ecf0f1; box-shadow: 0 0 15px rgba(255,255,255,0.05); }
        body.dark-mode h1, body.dark-mode h2 { color: #58D68D; text-shadow: 1px 1px 2px rgba(0,0,0,0.3); }
        body.dark-mode .clues h3 { color: #2ecc71; }
        body.dark-mode p, body.dark-mode .clues li { color: #bdc3c7; }
        body.dark-mode .button { background: linear-gradient(135deg, #4CAF50 0%, #2ecc71 100%); color: white; box-shadow: 0 4px 6px rgba(0,0,0,0.3); }
        body.dark-mode .button:hover { background: linear-gradient(135deg, #2ecc71 0%, #4CAF50 100%); box-shadow: 0 8px 12px rgba(0,0,0,0.4); }
        body.dark-mode #dark-mode-toggle, body.dark-mode #crossword-button, body.dark-mode .crossword-section button { background-color: #58D68D; color: #1f2023; }
        body.dark-mode #dark-mode-toggle:hover, body.dark-mode #crossword-button:hover, body.dark-mode .crossword-section button:hover { background-color: #2ecc71; }
        body.dark-mode footer { background-color: #1f2023; color: #bdc3c7; border-top-color: #444; }
        body.dark-mode #crossword .black { background-color: #1a1a1a; border-color: #1a1a1a; }
        body.dark-mode #crossword td { border-color: #555; }
        body.dark-mode #crossword sup { color: #aaa; }
        body.dark-mode #crossword input[type="text"] { background-color: transparent; color: #ecf0f1; }
        body.dark-mode #crossword input[type="text"]:focus { outline-color: #58D68D; background-color: rgba(88, 214, 141, 0.15); }
        body.dark-mode .fliphtml5-container-wrapper { border-color: #555; background-color: #2a2c30; }
        body.dark-mode .score { color: #58D68D; }

        /* Responsive Design */
        @media (max-width: 920px) {
             header { flex-direction: column; align-items: center; padding: 15px; }
            .logo { order: -1; margin-bottom: 15px; width: auto; max-width: 300px; margin-left: auto; margin-right: auto; }
             .buttons { justify-content: center; width: 100%; }
        }
        @media (max-width: 768px) {
            main { margin: 15px; padding: 15px; }
            h1 { font-size: 2em; }
            p { font-size: 1em; }
            .fliphtml5-container-wrapper { padding-top: 75%; }
            #crossword td { width: 30px; height: 30px; }
            #crossword input[type="text"] { font-size: 14px; }
            #crossword sup { font-size: 8px; }
            .clues-container { flex-direction: column; align-items: center; }
            .clues { max-width: 90%; }
        }
        @media (max-width: 480px) {
             body { line-height: 1.5; }
            h1 { font-size: 1.8em; }
            .button { font-size: 0.9em; padding: 10px 15px; }
            .fliphtml5-container-wrapper { padding-top: 100%; }
            #crossword td { width: 26px; height: 26px; }
            #crossword input[type="text"] { font-size: 12px; }
            #crossword sup { font-size: 7px; }
            .clues { font-size: 0.9em; }
            .crossword-section button { padding: 10px 20px; font-size: 1em; }
        }

        /* Page Navigation */
        .content-page { display: none; }
        .content-page.active { display: block; animation: fadeIn 0.5s forwards; }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <a href="https://pkmbhaktijaya.depok.go.id" target="_blank">
                <img src="logo.png" alt="UPTD Puskesmas Baktijaya Logo">
            </a>
        </div>
        <div class="buttons">
            <a href="https://www.nhlbi.nih.gov/health/educational/lose_wt/BMI/bmicalc.htm" class="button" target="_blank">BMI Calculator</a>
            <a href="https://www.niddk.nih.gov/bwp" class="button" target="_blank">Body Weight Planner</a>
            <a href="https://www.nutrition.va.gov/docs/UpdatedPatientEd/CalorieContentFoodList2018.pdf" class="button" target="_blank">Calorie Content List</a>
            <button id="dark-mode-toggle" class="button">Dark Mode</button>
            <button id="crossword-button" class="button">Crossword</button>
        </div>
    </header>

    <main class="content-page active">
        <h1>Buku Pintar Bugar</h1>
        <p>
            Mau tahu lebih tentang obesitas dan cara menanggulanginya? Baca buku pintar berikut kalau penasaran.
        </p>
        <div class="fliphtml5-container-wrapper">
            <iframe src="https://online.fliphtml5.com/zgmzq/vita/index.html" seamless="seamless" scrolling="no" frameborder="0" allowtransparency="true" allowfullscreen="true"></iframe>
        </div>
    </main>

    <main class="content-page">
        <section class="crossword-section">
            <h2>Crossword: Seberapa Sehat Gaya Hidupmu?</h2>
             <div class="clues-container">
                 <div class="clues">
                     <h3>Mendatar</h3>
                     <!-- Using clues from the original image, as the new constraints were contradictory -->
                     <ul>
                         <li>1 Kondisi tubuh yang sehat, kuat, dan siap melakukan aktivitas fisik tanpa kelelahan berlebihan.</li>
                         <li>2 Rasio lingkar pinggang dan tinggi badan.</li>
                         <li>5 Penyakit tidak menular yang terkait dengan kadar gula darah tinggi.</li>
                         <li>7 Pada saat apa tubuh memberikan sinyal untuk berhenti makan.</li>
                         <li>8 Alat ukur risiko obesitas yang membandingkan berat dan tinggi badan.</li>
                     </ul>
                 </div>
                 <div class="clues">
                     <h3>Menurun</h3>
                     <ul>
                         <li>1 Contoh aktivitas fisik dengan level rendah.</li>
                         <li>3 Penyakit akibat tekanan darah tinggi.</li>
                         <li>4 Nama lemak sehat yang membantu manajemen berat badan.</li>
                         <li>5 Dampak obesitas pada mental.</li>
                         <li>6 Contoh aktivitas fisik dengan level tinggi.</li>
                     </ul>
                 </div>
            </div>

            <!-- Grid based on image.png (EMPTY) -->
            <table id="crossword">
                 <!-- Row 0 -->
                 <tr>
                     <td class="black"></td><td class="black"></td><td class="black"></td><td class="black"></td><td class="black"></td><td class="black"></td><td class="black"></td>
                     <td><sup>2</sup><input type="text" maxlength="1" data-row="0" data-col="7" data-across="2"></td>
                     <td><sup>3</sup><input type="text" maxlength="1" data-row="0" data-col="8" data-across="2" data-down="3"></td>
                     <td><input type="text" maxlength="1" data-row="0" data-col="9" data-across="2"></td>
                     <td><input type="text" maxlength="1" data-row="0" data-col="10" data-across="2"></td>
                 </tr>
                 <!-- Row 1 -->
                 <tr>
                     <td class="black"></td>
                     <td><sup>1</sup><input type="text" maxlength="1" data-row="1" data-col="1" data-across="1" data-down="1"></td>
                     <td><input type="text" maxlength="1" data-row="1" data-col="2" data-across="1"></td>
                     <td><input type="text" maxlength="1" data-row="1" data-col="3" data-across="1"></td>
                     <td><input type="text" maxlength="1" data-row="1" data-col="4" data-across="1"></td>
                     <td><input type="text" maxlength="1" data-row="1" data-col="5" data-across="1"></td>
                     <td class="black"></td><td class="black"></td>
                     <td><input type="text" maxlength="1" data-row="1" data-col="8" data-down="3"></td>
                     <td class="black"></td><td class="black"></td>
                 </tr>
                 <!-- Row 2 -->
                 <tr>
                     <td class="black"></td>
                     <td><input type="text" maxlength="1" data-row="2" data-col="1" data-down="1"></td>
                     <td class="black"></td><td class="black"></td>
                     <td><sup>4</sup><input type="text" maxlength="1" data-row="2" data-col="4" data-down="4"></td>
                     <td class="black"></td><td class="black"></td><td class="black"></td>
                     <td><input type="text" maxlength="1" data-row="2" data-col="8" data-down="3"></td>
                     <td class="black"></td><td class="black"></td>
                 </tr>
                  <!-- Row 3 -->
                 <tr>
                     <td class="black"></td>
                     <td><input type="text" maxlength="1" data-row="3" data-col="1" data-down="1"></td>
                     <td class="black"></td><td class="black"></td>
                     <td><input type="text" maxlength="1" data-row="3" data-col="4" data-down="4"></td>
                     <td class="black"></td><td class="black"></td><td class="black"></td>
                     <td><input type="text" maxlength="1" data-row="3" data-col="8" data-down="3"></td>
                     <td class="black"></td><td class="black"></td>
                 </tr>
                  <!-- Row 4 -->
                 <tr>
                     <td class="black"></td>
                     <td><input type="text" maxlength="1" data-row="4" data-col="1" data-down="1"></td>
                     <td class="black"></td><td class="black"></td>
                     <td><input type="text" maxlength="1" data-row="4" data-col="4" data-down="4"></td>
                     <td class="black"></td><td class="black"></td><td class="black"></td>
                     <td><input type="text" maxlength="1" data-row="4" data-col="8" data-down="3"></td>
                     <td class="black"></td><td class="black"></td>
                  </tr>
                  <!-- Row 5 -->
                  <tr>
                     <td><sup>5</sup><input type="text" maxlength="1" data-row="5" data-col="0" data-across="5" data-down="5"></td>
                     <td><input type="text" maxlength="1" data-row="5" data-col="1" data-across="5" data-down="1"></td>
                     <td><input type="text" maxlength="1" data-row="5" data-col="2" data-across="5"></td>
                     <td><input type="text" maxlength="1" data-row="5" data-col="3" data-across="5"></td>
                     <td><input type="text" maxlength="1" data-row="5" data-col="4" data-across="5" data-down="4"></td>
                     <td><input type="text" maxlength="1" data-row="5" data-col="5" data-across="5"></td>
                     <td><sup>6</sup><input type="text" maxlength="1" data-row="5" data-col="6" data-across="5" data-down="6"></td>
                     <td><input type="text" maxlength="1" data-row="5" data-col="7" data-across="5"></td>
                     <td><input type="text" maxlength="1" data-row="5" data-col="8" data-down="3"></td>
                     <td class="black"></td><td class="black"></td>
                 </tr>
                  <!-- Row 6 -->
                  <tr>
                     <td><input type="text" maxlength="1" data-row="6" data-col="0" data-down="5"></td>
                     <td><input type="text" maxlength="1" data-row="6" data-col="1" data-down="1"></td>
                     <td class="black"></td><td class="black"></td>
                     <td><input type="text" maxlength="1" data-row="6" data-col="4" data-down="4"></td>
                     <td class="black"></td>
                     <td><input type="text" maxlength="1" data-row="6" data-col="6" data-down="6"></td>
                     <td class="black"></td>
                     <td><input type="text" maxlength="1" data-row="6" data-col="8" data-down="3"></td>
                     <td class="black"></td><td class="black"></td>
                  </tr>
                  <!-- Row 7 -->
                  <tr>
                     <td><input type="text" maxlength="1" data-row="7" data-col="0" data-down="5"></td>
                     <td><input type="text" maxlength="1" data-row="7" data-col="1" data-down="1"></td>
                     <td class="black"></td><td class="black"></td>
                     <td><sup>7</sup><input type="text" maxlength="1" data-row="7" data-col="4" data-across="7"></td>
                     <td><input type="text" maxlength="1" data-row="7" data-col="5" data-across="7"></td>
                     <td><input type="text" maxlength="1" data-row="7" data-col="6" data-across="7" data-down="6"></td>
                     <td><input type="text" maxlength="1" data-row="7" data-col="7" data-across="7"></td>
                     <td><input type="text" maxlength="1" data-row="7" data-col="8" data-across="7" data-down="3"></td>
                     <td><input type="text" maxlength="1" data-row="7" data-col="9" data-across="7"></td>
                     <td><input type="text" maxlength="1" data-row="7" data-col="10" data-across="7"></td>
                  </tr>
                  <!-- Row 8 -->
                  <tr>
                     <td><input type="text" maxlength="1" data-row="8" data-col="0" data-down="5"></td>
                     <td class="black"></td><td class="black"></td><td class="black"></td><td class="black"></td><td class="black"></td>
                     <td><input type="text" maxlength="1" data-row="8" data-col="6" data-down="6"></td>
                     <td><sup>8</sup><input type="text" maxlength="1" data-row="8" data-col="7" data-across="8"></td>
                     <td><input type="text" maxlength="1" data-row="8" data-col="8" data-across="8" data-down="3"></td>
                     <td><input type="text" maxlength="1" data-row="8" data-col="9" data-across="8"></td>
                     <td class="black"></td>
                  </tr>
                  <!-- Row 9 -->
                  <tr>
                     <td><input type="text" maxlength="1" data-row="9" data-col="0" data-down="5"></td>
                     <td class="black"></td><td class="black"></td><td class="black"></td><td class="black"></td><td class="black"></td>
                     <td><input type="text" maxlength="1" data-row="9" data-col="6" data-down="6"></td>
                     <td class="black"></td>
                     <td><input type="text" maxlength="1" data-row="9" data-col="8" data-down="3"></td>
                     <td class="black"></td><td class="black"></td>
                  </tr>
                   <!-- Row 10 -->
                   <tr>
                     <td><input type="text" maxlength="1" data-row="10" data-col="0" data-down="5"></td>
                     <td class="black"></td><td class="black"></td><td class="black"></td><td class="black"></td><td class="black"></td>
                     <td><input type="text" maxlength="1" data-row="10" data-col="6" data-down="6"></td>
                     <td class="black"></td>
                     <td><input type="text" maxlength="1" data-row="10" data-col="8" data-down="3"></td>
                     <td class="black"></td><td class="black"></td>
                  </tr>
                  <!-- Row 11 -->
                  <tr>
                     <td><input type="text" maxlength="1" data-row="11" data-col="0" data-down="5"></td>
                     <td class="black"></td><td class="black"></td><td class="black"></td><td class="black"></td><td class="black"></td><td class="black"></td><td class="black"></td>
                     <td class="black"></td><td class="black"></td><td class="black"></td>
                  </tr>
             </table>
            <button onclick="checkAnswers()">Cek Jawaban</button>
            <div class="score" id="score">Skor: 0</div>
        </section>
    </main>

    <footer>
        <p>© 2025 IPE-35. All rights reserved.</p>
    </footer>

    <script>
        // Dark Mode Toggle
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const body = document.body;

        if (localStorage.getItem('darkMode') === 'enabled') {
            body.classList.add('dark-mode');
            darkModeToggle.textContent = 'Light Mode';
        }

        darkModeToggle.addEventListener('click', function() {
            body.classList.toggle('dark-mode');
            const isDarkMode = body.classList.contains('dark-mode');
            darkModeToggle.textContent = isDarkMode ? 'Light Mode' : 'Dark Mode';
            localStorage.setItem('darkMode', isDarkMode ? 'enabled' : 'disabled');
        });

        // Page Navigation
        const crosswordButton = document.getElementById('crossword-button');
        const pages = document.querySelectorAll('.content-page');
        const homePage = pages[0];
        const crosswordPage = pages[1];

        crosswordButton.addEventListener('click', function() {
            const isCrosswordActive = crosswordPage.classList.contains('active');
            if (isCrosswordActive) {
                crosswordPage.classList.remove('active');
                homePage.classList.add('active');
                crosswordButton.textContent = 'Crossword';
            } else {
                homePage.classList.remove('active');
                crosswordPage.classList.add('active');
                crosswordButton.textContent = 'Back to Book';
            }
             window.scrollTo(0, 0);
        });

        // JS Data based on the layout from image.png
        const words = [
            // Mendatar (Across)
            { type: 'across', number: 1, row: 1, col: 1, length: 5, answer: 'BUGAR', clue: '...' },
            { type: 'across', number: 2, row: 0, col: 7, length: 4, answer: 'WHTR', clue: '...' },
            { type: 'across', number: 5, row: 5, col: 0, length: 8, answer: 'DIABETES', clue: '...' },
            { type: 'across', number: 7, row: 7, col: 4, length: 7, answer: 'KENYANG', clue: '...' },
            { type: 'across', number: 8, row: 8, col: 7, length: 3, answer: 'BMI', clue: '...' }, // Note: image.png shows 8 Across
            // Menurun (Down)
            { type: 'down', number: 1, row: 1, col: 1, length: 8, answer: 'BERJALAN', clue: '...' },
            { type: 'down', number: 3, row: 0, col: 8, length: 11, answer: 'HIPERTENSI', clue: '...' },
            { type: 'down', number: 4, row: 2, col: 4, length: 5, answer: 'OMEGA', clue: '...' },
            { type: 'down', number: 5, row: 5, col: 0, length: 7, answer: 'DEPRESI', clue: '...' },
            { type: 'down', number: 6, row: 5, col: 6, length: 6, answer: 'SPRINT', clue: '...' }
        ];

        // Add full clues from the list to the JS words array for better context if needed later
        const cluesList = {
             mendatar: [
                 "1 Kondisi tubuh yang sehat, kuat, dan siap melakukan aktivitas fisik tanpa kelelahan berlebihan.",
                 "2 Rasio lingkar pinggang dan tinggi badan.",
                 "5 Penyakit tidak menular yang terkait dengan kadar gula darah tinggi.",
                 "7 Pada saat apa tubuh memberikan sinyal untuk berhenti makan.",
                 "8 Alat ukur risiko obesitas yang membandingkan berat dan tinggi badan."
             ],
             menurun: [
                 "1 Contoh aktivitas fisik dengan level rendah.",
                 "3 Penyakit akibat tekanan darah tinggi.",
                 "4 Nama lemak sehat yang membantu manajemen berat badan.",
                 "5 Dampak obesitas pada mental.",
                 "6 Contoh aktivitas fisik dengan level tinggi."
             ]
         };

         words.forEach(word => {
             const clueNum = word.number;
             let clueText = `Clue for ${word.number} ${word.type}`; // Default
             if (word.type === 'across') {
                 const foundClue = cluesList.mendatar.find(c => c.startsWith(clueNum + " "));
                 if (foundClue) clueText = foundClue;
             } else {
                 const foundClue = cluesList.menurun.find(c => c.startsWith(clueNum + " "));
                 if (foundClue) clueText = foundClue;
             }
             word.clue = clueText; // Add the full clue text to the word object
         });


        // Input navigation logic
        const inputs = document.querySelectorAll('#crossword input[type="text"]');
        inputs.forEach(input => {
            input.addEventListener('input', (e) => {
                const { row, col } = e.target.dataset;
                if (e.target.value.length === 1) {
                    const nextCol = parseInt(col) + 1;
                    let nextInput = document.querySelector(`#crossword input[data-row="${row}"][data-col="${nextCol}"]`);
                    if (!nextInput || nextInput.closest('td').classList.contains('black')) {
                         const nextRow = parseInt(row) + 1;
                         nextInput = document.querySelector(`#crossword input[data-row="${nextRow}"][data-col="${col}"]`);
                    }
                    if (nextInput && !nextInput.closest('td').classList.contains('black')) {
                        nextInput.focus();
                        nextInput.select();
                    }
                }
            });
            input.addEventListener('keydown', (e) => {
                 const { row, col } = e.target.dataset;
                 let targetInput = null;
                 const currentRow = parseInt(row);
                 const currentCol = parseInt(col);
                 switch (e.key) {
                     case 'ArrowRight': targetInput = document.querySelector(`#crossword input[data-row="${currentRow}"][data-col="${currentCol + 1}"]`); break;
                     case 'ArrowLeft': targetInput = document.querySelector(`#crossword input[data-row="${currentRow}"][data-col="${currentCol - 1}"]`); break;
                     case 'ArrowDown': targetInput = document.querySelector(`#crossword input[data-row="${currentRow + 1}"][data-col="${currentCol}"]`); break;
                     case 'ArrowUp': targetInput = document.querySelector(`#crossword input[data-row="${currentRow - 1}"][data-col="${currentCol}"]`); break;
                     case 'Backspace': if (e.target.value === '') { targetInput = document.querySelector(`#crossword input[data-row="${currentRow}"][data-col="${currentCol - 1}"]`) || document.querySelector(`#crossword input[data-row="${currentRow - 1}"][data-col="${currentCol}"]`); } break;
                     case 'Enter': e.preventDefault(); checkAnswers(); break;
                 }
                 if (targetInput && !targetInput.closest('td').classList.contains('black')) { targetInput.focus(); targetInput.select(); e.preventDefault(); }
            });
        });

        // Answer checking logic
        function checkAnswers() {
            let currentScore = 0;
            let totalWords = words.length;
            let correctWords = 0;
            document.querySelectorAll('#crossword td:not(.black)').forEach(cell => { cell.style.borderColor = body.classList.contains('dark-mode') ? '#555' : '#ccc'; }); // Reset borders

            words.forEach(word => {
                let userAnswer = '';
                let isWordCorrect = true;
                let cellsForThisWord = [];
                if (word.type === 'across') {
                    for (let i = 0; i < word.length; i++) {
                        const cellElement = document.querySelector(`#crossword td:has(input[data-row="${word.row}"][data-col="${word.col + i}"])`);
                        const input = cellElement?.querySelector('input');
                        if (input && !cellElement.classList.contains('black')) {
                            cellsForThisWord.push(cellElement);
                            const char = input.value.toUpperCase();
                            userAnswer += char;
                            if (char !== word.answer[i]) isWordCorrect = false;
                        } else { isWordCorrect = false; break; }
                    }
                } else { // down
                    for (let i = 0; i < word.length; i++) {
                         const cellElement = document.querySelector(`#crossword td:has(input[data-row="${word.row + i}"][data-col="${word.col}"])`);
                         const input = cellElement?.querySelector('input');
                         if (input && !cellElement.classList.contains('black')) {
                             cellsForThisWord.push(cellElement);
                             const char = input.value.toUpperCase();
                            userAnswer += char;
                            if (char !== word.answer[i]) isWordCorrect = false;
                         } else { isWordCorrect = false; break; }
                    }
                }
                 if (isWordCorrect && userAnswer.length === word.length && userAnswer === word.answer) {
                    correctWords++;
                    cellsForThisWord.forEach(cell => { cell.style.borderColor = 'lightgreen'; });
                }
            });
            currentScore = correctWords * 10;
            document.getElementById('score').textContent = `Skor: ${currentScore}`;
            if (correctWords === totalWords) { alert(`Selamat! Semua ${totalWords} jawaban benar! Skor Anda: ${currentScore}`); }
            else if (correctWords > 0) { alert(`${correctWords} dari ${totalWords} jawaban benar. Coba lagi! Skor sementara: ${currentScore}`); }
            else { alert('Belum ada jawaban benar. Coba lagi!'); }
        }
    </script>
</body>
</html>
